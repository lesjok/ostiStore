{"version":3,"file":"static/js/903.6729b5b7.chunk.js","mappings":"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","sources":["firebase/FirebaseHistory.tsx","components/Footer/Footer.tsx","assets/images/grow.svg","ui/CustomLink.tsx","hooks/debounce.tsx","components/Search/Search.tsx","components/Header/Header.tsx","pages/LayoutPage/LayoutPage.tsx"],"sourcesContent":["import {\n  addDoc,\n  collection,\n  deleteDoc,\n  doc,\n  onSnapshot,\n  query,\n  where,\n} from 'firebase/firestore'\nimport { Dispatch, SetStateAction, useEffect } from 'react'\nimport type { IUser, IHistory } from '../types/type'\nimport { onAuthStateChanged } from 'firebase/auth'\nimport { auth, db } from './firebase.config'\n\nexport const useAuthState = (\n  setUser: Dispatch<SetStateAction<IUser | null>>,\n  setHistory: Dispatch<SetStateAction<IHistory[]>>,\n) => {\n  useEffect(() => {\n    const unsubscribe = onAuthStateChanged(auth, (authUser) => {\n      setUser(authUser)\n\n      if (authUser) {\n        const unsubscribeHistory = getHistory(setHistory)\n\n        return () => {\n          unsubscribe()\n          if (unsubscribeHistory) {\n            unsubscribeHistory()\n          }\n        }\n      }\n    })\n\n    return unsubscribe\n  }, [setHistory])\n}\n\nconst getHistory = (setHistory: Dispatch<SetStateAction<IHistory[]>>) => {\n  const user = auth.currentUser\n\n  if (!user) {\n    return\n  }\n\n  const collectionRef = collection(db, 'searchHistory')\n  const userQuery = query(collectionRef, where('userId', '==', user.uid))\n\n  return onSnapshot(userQuery, (snapshot) => {\n    const history = snapshot.docs.map((historyDoc) => ({\n      id: historyDoc.id,\n      query: historyDoc.data().query,\n      url: historyDoc.data().url || '',\n    }))\n\n    setHistory(history)\n  })\n}\n\nexport const saveHistory = async (query: string) => {\n  const user = auth.currentUser\n\n  if (!user) {\n    return\n  }\n\n  const historyCollection = collection(db, 'searchHistory')\n  const encodedQuery = encodeURIComponent(query)\n  const newSearch = {\n    query,\n    userId: user.uid,\n    url: `${encodedQuery}`,\n  }\n\n  try {\n    await addDoc(historyCollection, newSearch)\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Ошибка при сохранении в историю поиска:', error)\n  }\n}\n\nexport const deleteHistory = async (queryId: string) => {\n  const user = auth.currentUser\n\n  if (!user) {\n    return\n  }\n\n  const searchHistoryDoc = doc(db, 'searchHistory', queryId)\n\n  try {\n    await deleteDoc(searchHistoryDoc)\n  } catch (error) {\n    // eslint-disable-next-line no-console\n    console.error('Ошибка при удалении из истории поиска:', error)\n  }\n}\n","import githubLogo from '../../assets/images/github-mark-white.png'\nimport React from 'react'\nimport './Footer.css'\n\nexport default function Footer() {\n  return (\n    <footer className=\"footer\">\n      2024 Osti Store, Inc. All rights reserved.\n      <a\n        href=\"https://github.com/lesjok/ostiStore\"\n        target=\"_blank\"\n        rel=\"noreferrer\"\n      >\n        <img src={githubLogo} alt=\"gitHub link\" className=\"footer__img\" />\n      </a>\n    </footer>\n  )\n}\n","var _path, _path2, _path3, _path4, _path5, _path6;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgGrow(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: 163.839,\n    height: 163.839,\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    imageRendering: \"optimizeQuality\",\n    shapeRendering: \"geometricPrecision\",\n    textRendering: \"geometricPrecision\",\n    viewBox: \"0 0 1707 1707\",\n    id: \"grow\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#666\",\n    fillRule: \"nonzero\",\n    d: \"M630 550c-10-4-4-13-1-23 4-11 3-18 14-15 0 0 31 10 212 158 61 50 94 92 112 126 40-106 100-278 91-346-1-11 7-21 18-23 11-1 21 7 22 18 12 91-80 331-115 420-4 27-19 41-19 41-8 7-21 7-28-1-6-6-7-15-4-22 1-1 6-13 13-32-1-26-21-73-116-150-175-144-199-151-199-151zM635 1078l621 0c11 0 20 9 20 20 0 3 0 5-1 7l-115 472c-2 9-11 15-20 15l0 0-390 0c-10 0-18-7-19-17l-116-472c-2-11 4-22 15-24 1 0 3-1 5-1l0 0zm596 40l-571 0 106 434 359 0 106-434z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#666\",\n    fillRule: \"nonzero\",\n    d: \"M625 1078l651 0 0 -53 -651 0 0 53zm671 40l-691 0c-11,0 -20,-9 -20,-20l0 -93c0,-12 9,-20 20,-20l691 0c11,0 20,8 20,20l0 93c0,11 -9,20 -20,20z\"\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#666\",\n    fillRule: \"nonzero\",\n    d: \"M632 871l637 0c21 0 40 9 54 23 14 13 22 33 22 54l0 57c0 11-9 20-20 20l-750 0c-11 0-20-9-20-20l0-57c0-21 9-41 23-54 14-14 33-23 54-23zm637 40l-637 0c-10 0-19 4-26 11-7 7-11 16-11 26l0 37 710 0 0-37c0-10-4-19-10-26-7-7-16-11-26-11zM735 1490c11 0 20 9 20 20 0 11-9 20-20 20l-145 0 0 68c0 21 6 39 15 51 7 11 17 18 27 18l627 0c10 0 19-7 27-18 9-12 14-30 14-51l0-68-144 0c-11 0-20-9-20-20 0-11 9-20 20-20l164 0c11 0 20 9 20 20l0 88c0 29-8 55-21 74-15 21-36 35-60 35l-627 0c-24 0-45-14-60-35-13-19-22-45-22-74l0-88c0-11 9-20 20-20l165 0zM1165 759c-2-10-6-20-11-30 0 0 0 0 0-1-8-12-18-22-31-30l0 0 0 0c-13-7-28-11-42-11l0 0c-11 0-21 2-31 6 1 11 5 21 10 30 7 13 18 24 31 31 13 8 28 11 42 11l0 0c11 0 22-2 32-6zm24-50c10 19 16 41 16 62l0 0c0 7-3 14-10 18-19 11-40 16-62 16l0 0c-21 0-42-5-62-16-19-12-35-27-45-46-11-18-17-39-17-61 0-7 3-14 10-18 19-11 40-17 62-17l0 0c21 0 43 6 62 17l0 0c19 11 34 26 45 44 0 0 0 1 1 1zM825 702c-11-1-21 0-32 3-14 3-27 11-37 21l0 1c-11 10-19 23-22 37-3 11-4 21-3 32 11 1 22 0 32-2 14-4 27-11 38-22 11-11 18-24 22-38 3-10 3-21 2-32zm-42-36c21-5 43-6 64 0 7 2 12 7 14 14 6 21 6 44 0 65-5 20-16 39-32 55-16 16-35 27-55 32-21 6-43 6-64 1-7-2-13-7-15-15-5-21-5-43 0-64 6-21 16-40 32-56l0 0 0 0c16-16 36-26 56-32z\"\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ffb300\",\n    d: \"M1133 344l0 0zm-23 -86l0 0zm-86 23c-8,15 -10,32 -6,48 4,15 14,29 29,38 15,9 33,11 48,6 16,-4 30,-14 38,-29 9,-15 11,-32 7,-48 -5,-15 -15,-29 -30,-38 -15,-9 -32,-10 -47,-6 -16,4 -30,14 -39,29z\"\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ffb300\",\n    d: \"M900 423l0 0zm346 202l0 0zm-335-625l0 0zm-39 107c1 32 10 65 28 95 2 4 4 7 7 11-5 0-9 0-14 0-34 0-67 8-95 23-30 15-55 38-73 65-5 7-5 16 0 23 18 27 43 49 73 65 28 15 61 23 95 23 5 0 9 0 14 0-3 4-5 8-7 11l0 0c-18 30-27 63-28 95-1 33 6 65 20 95 3 7 11 13 19 12 33-2 65-13 93-31 15-9 28-20 40-32 10-11 20-24 28-38l0-1c3-4 5-8 7-12 2 4 4 8 6 11l0 1c2 3 4 6 6 9 16 26 38 47 62 62 28 18 60 29 93 31 8 1 16-4 20-11 14-30 21-63 20-96-2-32-10-64-27-93l-1-2c-2-3-4-7-7-11 5 0 9 0 14 0 34 0 66-8 95-23 29-15 54-38 73-65 5-7 5-16 0-23-18-27-44-49-73-65-29-15-61-23-95-23-5 0-9 0-14 0 2-3 4-7 6-10l1-1c17-30 26-63 28-95 1-33-6-65-20-95-3-7-11-13-20-12-33 3-65 13-93 31-27 17-50 40-67 70l-1 1c-2 4-4 8-6 12-2-4-4-8-6-11l-1-1c-17-30-40-54-68-71-28-18-60-28-93-31-8 0-15 4-19 11-14 30-21 63-20 96zm258 116l0 0zm38 141l0 0zm-178-103c14-25 37-41 62-48 26-7 54-4 78 10l0 0c25 15 41 37 48 63 7 25 4 53-10 78l0 0c-14 25-37 41-63 48-25 7-53 4-78-10-24-15-41-37-48-63-6-25-3-53 11-78zM592 469c-15-56-99-32-84 23 14 56 99 33 84-23z\"\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"#ffb300\",\n    d: \"M678 726l0 0zm14 -162l0 0zm134 -72l0 0zm-405 -256l0 0zm-19 11c-23,49 -21,105 7,152 -81,0 -153,67 -135,93 30,45 80,71 135,70 -40,69 -20,166 12,164 54,-4 102,-35 129,-82 27,47 75,78 128,82 8,0 16,-4 20,-11 16,-35 20,-74 10,-111 -3,-14 -9,-27 -16,-40l-1 -2c8,0 17,0 25,-1 45,-7 85,-31 110,-69 5,-6 5,-15 0,-22 -30,-45 -80,-71 -135,-71 27,-46 30,-103 7,-151 -3,-8 -11,-13 -20,-12 -53,4 -101,34 -128,82 -27,-48 -75,-78 -129,-82 -8,-1 -15,4 -19,11zm75 192c38,-64 135,-52 154,20 5,19 3,38 -4,54 -3,7 -6,13 -10,18 -11,15 -27,26 -45,31 -72,19 -132,-59 -95,-123z\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgGrow);\nexport default __webpack_public_path__ + \"static/media/grow.42a2be4d54bc6eb86be200ba3b3cee64.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ReactNode } from 'react'\nimport './CustomLink.css'\n\ninterface Props {\n  to: string\n  children: ReactNode\n  onClick?: () => void\n  primary?: boolean\n  size?: 'small' | 'medium' | 'large'\n  label?: string\n}\n\nconst CustomLink = ({\n  to,\n  children,\n  onClick,\n  primary = true,\n  size = 'medium',\n  label = 'Link',\n}: Props) => {\n  const mode = primary ? 'nav__btn--primary' : 'nav__btn--secondary'\n\n  const handleClick = () => {\n    if (onClick) {\n      onClick()\n    }\n  }\n\n  return (\n    <a\n      href={to}\n      className={['nav__btn', `nav__btn--${size}`, mode].join(' ')}\n      onClick={handleClick}\n    >\n      {children ? children : label}\n    </a>\n  )\n}\n\nexport default CustomLink\n","import { useEffect, useState } from 'react'\n\nexport function debounce<T>(value: T, delay?: number): T {\n  const [debouncedValue, setDebouncedValue] = useState<T>(value)\n\n  useEffect(() => {\n    const timer = setTimeout(() => setDebouncedValue(value), delay || 500)\n\n    return () => {\n      clearTimeout(timer)\n    }\n  }, [value, delay])\n\n  return debouncedValue\n}\n\nexport default debounce\n","import React, { useState, KeyboardEvent, useEffect } from 'react'\nimport { useNavigate, useSearchParams } from 'react-router-dom'\nimport { saveHistory } from '../../firebase/FirebaseHistory'\nimport { useSearchProductsQuery } from '../../redux/api'\nimport type { IProduct } from '../../types/type'\nimport debounce from '../../hooks/debounce'\nimport { Link } from 'react-router-dom'\nimport './Search.css'\n\nconst Search = () => {\n  const [products, setProducts] = useState<IProduct[]>([])\n  const [searchParams] = useSearchParams()\n  const query = searchParams.get('query')\n  const [searchTerm, setSearchTerm] = useState('')\n  const debouncedValue = debounce<string>(searchTerm, 700)\n  const [showSuggestions, setShowSuggestions] = useState(true)\n  const { data: productsFromQuery = [] } =\n    useSearchProductsQuery(debouncedValue)\n  const navigate = useNavigate()\n\n  const handleKeyPress = (event: KeyboardEvent<HTMLInputElement>) => {\n    setProducts(productsFromQuery)\n    setShowSuggestions(true)\n    if (event.key === 'Enter') {\n      handleSearch()\n    }\n  }\n\n  const handleSearch = () => {\n    const searchUrl = `/search?query=${searchTerm}`\n    navigate(searchUrl)\n    saveHistory(searchTerm)\n  }\n\n  useEffect(() => {\n    setSearchTerm(query || '')\n    setShowSuggestions(false)\n  }, [query])\n\n  const handleBlur = () => {\n    setTimeout(() => {\n      setShowSuggestions(false)\n    }, 300)\n  }\n\n  return (\n    <div className=\"search\">\n      <input\n        type=\"text\"\n        value={searchTerm}\n        onChange={(e) => setSearchTerm(e.target.value)}\n        onKeyDown={handleKeyPress}\n        className=\"search__input\"\n        onBlur={handleBlur}\n        title=\"Search\"\n      />\n      <a onClick={handleSearch} className=\"nav__btn\">\n        Search\n      </a>\n      {searchTerm && showSuggestions && (\n        <ul className=\"search__suggestions\">\n          {products.map((product, index) => (\n            <li className=\"suggestion\" key={index}>\n              <Link\n                className=\"suggestion__link\"\n                to={`/product/${product.id}`}\n                onClick={() => setSearchTerm('')}\n              >\n                {product.title}\n              </Link>\n            </li>\n          ))}\n          {products.length < 1 && (\n            <div className=\"search__nothing\">Nothing was found</div>\n          )}\n        </ul>\n      )}\n    </div>\n  )\n}\nexport default Search\n","import { useAuthentication } from '../../firebase/FirebaseAuth'\nimport { Link, NavLink } from 'react-router-dom'\nimport logo from '../../assets/images/grow.svg'\nimport CustomLink from '../../ui/CustomLink'\nimport Search from '../Search/Search'\nimport PropTypes from 'prop-types'\nimport React from 'react'\nimport './Header.css'\n\ninterface Props {\n  toggleDarkMode: () => void\n}\n\nconst Header = ({ toggleDarkMode }: Props) => {\n  const { isLogin, logout } = useAuthentication()\n\n  const handleLogout = () => {\n    logout()\n  }\n\n  return (\n    <header className=\"header\">\n      <nav className=\"header__nav\">\n        <Link to=\"/\" className=\"header__link\">\n          <img src={logo} alt=\"logo\" title=\"Fake Shop\" className=\"nav__logo\" />\n          <h2 className=\"nav__head\">Osti Shop</h2>\n        </Link>\n        <div className=\"nav__right\">\n          {isLogin && (\n            <>\n              <NavLink\n                to=\"/history\"\n                className={({ isActive }) =>\n                  isActive ? 'nav__link nav__link_active' : 'nav__link'\n                }\n              >\n                history\n              </NavLink>\n              <NavLink\n                to=\"/favourites\"\n                className={({ isActive }) =>\n                  isActive ? 'nav__link nav__link_active' : 'nav__link'\n                }\n              >\n                favourites\n              </NavLink>\n            </>\n          )}\n          <label className=\"nav__checkbox checkbox\">\n            <input type=\"checkbox\" onChange={toggleDarkMode} />\n            <span\n              className=\"checkbox__switch\"\n              data-label-on=\"On\"\n              data-label-off=\"Off\"\n            ></span>\n          </label>\n          <Search />\n          {isLogin ? (\n            <CustomLink to=\"/\" onClick={handleLogout}>\n              Log out\n            </CustomLink>\n          ) : (\n            <>\n              <CustomLink to=\"/login\">Login</CustomLink>\n              <CustomLink to=\"/registration\">Register</CustomLink>\n            </>\n          )}\n        </div>\n      </nav>\n    </header>\n  )\n}\n\nHeader.propTypes = {\n  toggleDarkMode: PropTypes.func.isRequired,\n}\n\nexport default Header\n","import { useTheme } from '../../contexts/ThemeContext'\nimport Footer from '../../components/Footer/Footer'\nimport Header from '../../components/Header/Header'\nimport { Outlet } from 'react-router-dom'\nimport './LayoutPage.css'\nimport React from 'react'\n\nexport default function LayoutPage() {\n  const { darkMode, toggleDarkMode } = useTheme()\n  const headerTheme = `${darkMode ? 'dark' : ''}`\n\n  return (\n    <div className=\"container\">\n      <Header toggleDarkMode={toggleDarkMode} />\n      <main className={`main ${headerTheme}`}>\n        <Outlet />\n      </main>\n      <Footer />\n    </div>\n  )\n}\n"],"names":["useAuthState","setUser","setHistory","useEffect","unsubscribe","onAuthStateChanged","auth","authUser","unsubscribeHistory","getHistory","user","currentUser","collectionRef","collection","db","userQuery","query","where","uid","onSnapshot","snapshot","history","docs","map","historyDoc","id","data","url","saveHistory","async","historyCollection","encodedQuery","encodeURIComponent","newSearch","userId","concat","addDoc","error","console","deleteHistory","searchHistoryDoc","doc","queryId","deleteDoc","Footer","_jsxs","className","children","_jsx","href","target","rel","src","githubLogo","alt","_ref","to","onClick","primary","size","label","mode","join","handleClick","value","delay","debouncedValue","setDebouncedValue","useState","timer","setTimeout","clearTimeout","Search","products","setProducts","searchParams","useSearchParams","get","searchTerm","setSearchTerm","debounce","showSuggestions","setShowSuggestions","productsFromQuery","useSearchProductsQuery","navigate","useNavigate","handleSearch","searchUrl","type","onChange","e","onKeyDown","event","key","onBlur","handleBlur","title","product","index","Link","length","toggleDarkMode","isLogin","logout","useAuthentication","logo","_Fragment","NavLink","_ref2","isActive","_ref3","CustomLink","handleLogout","LayoutPage","darkMode","useTheme","headerTheme","Header","Outlet"],"sourceRoot":""}